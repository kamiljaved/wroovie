{% extends "common/base.html" %}
{% load static %}
{% load humanize %}

{% block title %}
    {{ community.name }} - wroovie
{% endblock %}

{% block pageheader %}
    <h1>{{ community.name }}</h1>
    <br/>
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{% static 'community/css/base.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'community/css/scale.css' %}">
{% endblock %}

{% block main %}

    <div class="wrapper">
        {% block banner %}
            <div class="community-banner">
                hi
            </div>
        {% endblock %}

        <div class="comm-1">

            <div class="comm-1-1">
                {% for post in community.posts.all %}

                    <div class="comm-content-box">
                        
                        <div class="comm-content-box-1">
                            <div class="post-vote-button">
                                <svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="ellipsis-h" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-ellipsis-h fa-w-16 fa-9x"><g class="fa-group"><path fill="currentColor" d="M256 184a72 72 0 1 0 72 72 72 72 0 0 0-72-72z" class="fa-secondary"></path><path fill="currentColor" d="M432 184a72 72 0 1 0 72 72 72 72 0 0 0-72-72zm-352 0a72 72 0 1 0 72 72 72 72 0 0 0-72-72z" class="fa-primary"></path></g></svg>
                            </div>
                        </div>

                        <div class="comm-content-box-2">
                            <div class="post-info">
                                Posted by
                                <div class="post-author-image-wrapper">
                                    <img class="post-author-image" src="{{ post.author.profile.image.url }}" alt="Author Image">
                                </div>
                                <a href="#">u/{{ post.author }}</a> 
                                <div class="post-time">
                                    {{ post.dt_creation | naturaltime }}
                                </div>
                            </div>

                            <div class="post-title">
                                {{ post.thread.title }}
                            </div>

                            <div class="post-text">
                                {{ post.thread.content|truncatechars:300 }}
                            </div>

                            {% if post.image %}
                                <div class="post-main-image">
                                    
                                </div>
                            {% endif %}

                            <div class="post-options">
                                <div class="post-options-button">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="comments-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-comments-alt fa-w-18 fa-9x"><g class="fa-group"><path fill="currentColor" d="M352 287.9H162.3L79.5 350a9.7 9.7 0 0 1-15.5-7.8V288a64.06 64.06 0 0 1-64-64V64A64.06 64.06 0 0 1 64 0h288a64.06 64.06 0 0 1 64 64v160a63.91 63.91 0 0 1-64 63.9z" class="fa-secondary"></path><path fill="currentColor" d="M576 224v160a64.06 64.06 0 0 1-64 64h-32v54.3a9.7 9.7 0 0 1-15.5 7.8L381.7 448H256a64.06 64.06 0 0 1-64-64v-64h160a96.15 96.15 0 0 0 96-96v-64h64a64.06 64.06 0 0 1 64 64z" class="fa-primary"></path></g></svg>
                                    <div class="post-options-button-text">Comments</div>
                                </div>
                                <div class="post-options-button">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="share-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-share-alt fa-w-14 fa-9x"><g class="fa-group"><path fill="currentColor" d="M155.79 180.9l102.49-64.06a95.93 95.93 0 0 0 33.93 54.26l-102.49 64.06a95.93 95.93 0 0 0-33.93-54.26zm136.42 160l-102.49-64.06a95.93 95.93 0 0 1-33.93 54.26l102.49 64.06a95.93 95.93 0 0 1 33.93-54.26z" class="fa-primary"></path><path fill="currentColor" d="M96 160a96 96 0 1 0 96 96 96 96 0 0 0-96-96zm256 32a96 96 0 1 0-96-96 96 96 0 0 0 96 96zm0 128a96 96 0 1 0 96 96 96 96 0 0 0-96-96z" class="fa-secondary"></path></g></svg>
                                    <div class="post-options-button-text">Share</div>
                                </div>
                                <div class="post-options-button">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="bookmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-bookmark fa-w-12 fa-9x"><g class="fa-group"><path fill="currentColor" d="M384 48v464L192 400 0 512V48A48 48 0 0 1 48 0h32v326.11a16 16 0 0 0 23.16 14.31L192 296l88.84 44.42A16 16 0 0 0 304 326.11V0h32a48 48 0 0 1 48 48z" class="fa-primary"></path><path fill="currentColor" d="M304 0v326.11a16 16 0 0 1-23.16 14.31L192 296l-88.84 44.42A16 16 0 0 1 80 326.11V0z" class="fa-secondary"></path></g></svg>
                                    <div class="post-options-button-text">Save</div>
                                </div>
                                <div class="post-options-button">
                                    <svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="ellipsis-h" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-ellipsis-h fa-w-16 fa-9x"><g class="fa-group"><path fill="currentColor" d="M256 184a72 72 0 1 0 72 72 72 72 0 0 0-72-72z" class="fa-secondary"></path><path fill="currentColor" d="M432 184a72 72 0 1 0 72 72 72 72 0 0 0-72-72zm-352 0a72 72 0 1 0 72 72 72 72 0 0 0-72-72z" class="fa-primary"></path></g></svg>
                                </div>
                            </div>

                            <!-- <p class="article-content">
                                {{ post.thread.content | truncatewords:30 }}
                            </p> -->

                        </div>

                    </div>
                {% endfor %}
            </div>

            <div class="comm-1-2">
                <div class="comm-sidebar">

                    <div class="comm-sidebar-box">  
                        <div class="comm-sidebar-box-content">      
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi eum nam facilis, excepturi voluptates odit, at qui, rerum 
                            aboriosam iusto totam a quasi exercitationem? Repellat, optio. Veniam nemo voluptatem deserunt.
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deserunt, omnis! Lorem ipsum, dolor sit amet consectetur adipisicing 
                            elit. Nam aut iure iusto consequatur, ex corrupti vitae ipsa assumenda architecto neque tempore 
                        </div>
                        <hr>
                        <div class="comm-sidebar-box-content">      
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi eum nam facilis, excepturi voluptates odit, at qui, rerum 
                            aboriosam iusto totam a quasi exercitationem? Repellat, optio. Veniam nemo voluptatem deserunt.
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deserunt, omnis! Lorem ipsum, dolor sit amet consectetur adipisicing 
                            elit. Nam aut iure iusto consequatur, ex corrupti vitae ipsa assumenda architecto neque tempore 
                        </div> 
                    </div>
                    
                    <div class="comm-sidebar-box">             
                    </div>

                    <div class="comm-sidebar-box">  
                        <div class="comm-sidebar-box-content">      
                            Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi eum nam facilis, excepturi voluptates odit, at qui, rerum 
                            aboriosam iusto totam a quasi exercitationem? Repellat, optio. Veniam nemo voluptatem deserunt.
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deserunt, omnis! Lorem ipsum, dolor sit amet consectetur adipisicing 
                            elit. Nam aut iure iusto consequatur, ex corrupti vitae ipsa assumenda architecto neque tempore 
                        </div>
                    </div>
                    
                    <section class="site-footer">
                        <div class="comm-sidebar-box">             
                        </div>

                        <div class="comm-sidebar-box comm-sidebar-footer">  
                            <div class="comm-sidebar-box-content sidebox-footer">      
                                <div class="sidebox-footer-1">
                                    <a href="#">Help</a>
                                    <a href="#">App</a>
                                    <a href="#">Communities</a>
                                    <a href="#">Top Posts</a>
                                    <a href="#">Topics</a>
                                </div>
                                <div class="sidebox-footer-2">
                                    <a href="#">About</a>
                                    <a href="#">Careers</a>
                                    <a href="#">Advertise</a>
                                    <a href="#">Blog</a>
                                    <a href="#">Terms</a>
                                    <a href="#">Policies</a>
                                </div>
                            </div>
                            <hr>
                            <div class="comm-sidebar-box-content">      
                                wroovie.com © 2020
                            </div> 
                        </div>
                    </section>
                </div>
            </div>
        </div>
        

    </div>

    
    {% if is_paginated %}
    
        {% if page_obj.has_previous %}
            <a class="btn btn-outline-info mb-4" href="?page=1">First</a>
            <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}
        
        {% for num in page_obj.paginator.page_range %}
            {% if page_obj.number == num %}
                <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
            {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
            {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
            <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
            <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
        {% endif %}

    {% endif %}

{% endblock %}


{% block extrajs %}
    <script src="{% static 'community/js/base.js' %}" type="text/javascript"></script>
{% endblock %}